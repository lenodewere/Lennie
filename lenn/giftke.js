/* LENNIE */

function _0x26dc(_0x105e81,_0x3c9e8d){const _0x439229=_0x4392();return _0x26dc=function(_0x26dc91,_0x45613d){_0x26dc91=_0x26dc91-0x12d;let _0x30bd16=_0x439229[_0x26dc91];return _0x30bd16;},_0x26dc(_0x105e81,_0x3c9e8d);}const _0x50acba=_0x26dc;(function(_0x4951bf,_0x257b68){const _0x2ce66b=_0x26dc,_0x3f0f80=_0x4951bf();while(!![]){try{const _0x33cafb=-parseInt(_0x2ce66b(0x141))/0x1+-parseInt(_0x2ce66b(0x137))/0x2*(-parseInt(_0x2ce66b(0x136))/0x3)+parseInt(_0x2ce66b(0x13a))/0x4*(-parseInt(_0x2ce66b(0x12f))/0x5)+-parseInt(_0x2ce66b(0x152))/0x6+parseInt(_0x2ce66b(0x15e))/0x7*(-parseInt(_0x2ce66b(0x147))/0x8)+parseInt(_0x2ce66b(0x144))/0x9*(parseInt(_0x2ce66b(0x14b))/0xa)+parseInt(_0x2ce66b(0x135))/0xb;if(_0x33cafb===_0x257b68)break;else _0x3f0f80['push'](_0x3f0f80['shift']());}catch(_0x20448a){_0x3f0f80['push'](_0x3f0f80['shift']());}}}(_0x4392,0x68288));import _0x1fae5c from'fs';import _0x35a359 from'path';import _0x477b26 from'axios';function _0x4392(){const _0x3401ad=['HEROKU_API_TOKEN','/dynos','.\x20Pleass\x20restart\x20bot\x20for\x20changes\x20to\x20take\x20effect.','Environment\x20variable\x20','3091488EIuGYb','Deployment\x20platform\x20is\x20not\x20set.','application/vnd.heroku+json;\x20version=3','Bearer\x20','length','message','dirname','toUpperCase','koyeb','/deploy','error','The\x20environmental\x20variable\x20','240023nVsyMz','KOYEB_APP_NAME','https://app.koyeb.com/v1/services','env','get','/env','Unsupported\x20deployment\x20platform:\x20','url','appendFileSync','160535bFCTVq','find','application/json','data','HEROKU_APP_NAME','https://api.heroku.com/apps/','18946477qLZSIK','3usJket','624668rEOohm','delete','name','44gFhZeB','toLowerCase','patch','heroku','https://app.koyeb.com/v1/services/','Failed\x20to\x20update\x20environment\x20variable\x20or\x20restart\x20the\x20service\x20on\x20','/config-vars','674316IyIIAD','post','pathname','4815rdnmVr','resolve','reply','16EuzgNW','KOYEB_API_TOKEN','\x20has\x20been\x20set\x20to\x20','Koyeb\x20API\x20token\x20or\x20app\x20name\x20is\x20not\x20set.','60QLfrwn','response','Heroku\x20API\x20token\x20or\x20app\x20name\x20is\x20not\x20set.'];_0x4392=function(){return _0x3401ad;};return _0x4392();}const __filename=new URL(import.meta[_0x50acba(0x12d)])[_0x50acba(0x143)],__dirname=_0x35a359[_0x50acba(0x158)](__filename),envFilePath=_0x35a359[_0x50acba(0x145)](__dirname,'../.env'),updateEnvFile=(_0xefcb45,_0x20e178)=>{const _0x1c3052=_0x50acba,_0x2f3157=_0xefcb45[_0x1c3052(0x159)]()+'='+_0x20e178;_0x1fae5c[_0x1c3052(0x12e)](envFilePath,_0x2f3157+'\x0a');},updateHerokuEnv=async(_0x2543af,_0x1ac003)=>{const _0x5f0496=_0x50acba,_0xb58ea1=process[_0x5f0496(0x161)][_0x5f0496(0x14e)],_0x1253b0=process['env'][_0x5f0496(0x133)];if(!_0xb58ea1||!_0x1253b0)throw new Error(_0x5f0496(0x14d));await _0x477b26[_0x5f0496(0x13c)](_0x5f0496(0x134)+_0x1253b0+_0x5f0496(0x140),{[_0x2543af]:_0x1ac003},{'headers':{'Content-Type':'application/json','Authorization':_0x5f0496(0x155)+_0xb58ea1,'Accept':'application/vnd.heroku+json;\x20version=3'}}),await _0x477b26[_0x5f0496(0x138)](_0x5f0496(0x134)+_0x1253b0+_0x5f0496(0x14f),{'headers':{'Content-Type':_0x5f0496(0x131),'Authorization':_0x5f0496(0x155)+_0xb58ea1,'Accept':_0x5f0496(0x154)}});},updateKoyebEnv=async(_0x337f3e,_0x364d51)=>{const _0xb14808=_0x50acba,_0x432ba1=process[_0xb14808(0x161)][_0xb14808(0x148)],_0x34a12a=process[_0xb14808(0x161)][_0xb14808(0x15f)];if(!_0x432ba1||!_0x34a12a)throw new Error(_0xb14808(0x14a));const _0x4e14ae=await _0x477b26[_0xb14808(0x162)](_0xb14808(0x160),{'headers':{'Authorization':_0xb14808(0x155)+_0x432ba1}}),_0x32dd16=_0x4e14ae['data']['services'][_0xb14808(0x130)](_0x16af42=>_0x16af42[_0xb14808(0x139)]===_0x34a12a)['id'];await _0x477b26[_0xb14808(0x13c)](_0xb14808(0x13e)+_0x32dd16+_0xb14808(0x163),{[_0x337f3e]:_0x364d51},{'headers':{'Authorization':_0xb14808(0x155)+_0x432ba1}}),await _0x477b26[_0xb14808(0x142)]('https://app.koyeb.com/v1/services/'+_0x32dd16+_0xb14808(0x15b),{},{'headers':{'Authorization':_0xb14808(0x155)+_0x432ba1}});},setEnvCommand=async(_0x37b3f7,_0x4df404)=>{const _0x1a8e4c=_0x50acba;if(_0x4df404[_0x1a8e4c(0x156)]!==0x1){_0x37b3f7[_0x1a8e4c(0x146)]('*Usage:\x20.setvar\x20OWNER_NUMBER=2547XXXXXXXX*');return;}const [_0x58980e]=_0x4df404,[_0x57249d,_0x4a5f50]=_0x58980e['split']('=');if(!_0x57249d||!_0x4a5f50){_0x37b3f7[_0x1a8e4c(0x146)]('*Invalid\x20format.\x20Usage:\x20.setvar\x20OWNER_NUMBER=2547XXXXXXX');return;}try{updateEnvFile(_0x57249d,_0x4a5f50),_0x37b3f7[_0x1a8e4c(0x146)](_0x1a8e4c(0x15d)+_0x57249d+_0x1a8e4c(0x149)+_0x4a5f50+_0x1a8e4c(0x150));const _0x183424=process['env']['DEPLOYMENT_PLATFORM'];if(!_0x183424)throw new Error(_0x1a8e4c(0x153));switch(_0x183424[_0x1a8e4c(0x13b)]()){case _0x1a8e4c(0x13d):await updateHerokuEnv(_0x57249d,_0x4a5f50);break;case _0x1a8e4c(0x15a):await updateKoyebEnv(_0x57249d,_0x4a5f50);break;default:throw new Error(_0x1a8e4c(0x164)+_0x183424);}_0x37b3f7['reply'](_0x1a8e4c(0x151)+_0x57249d+'\x20updated\x20on\x20'+_0x183424+'.'),_0x37b3f7['reply'](_0x183424+'\x20service\x20restarted\x20successfully.');}catch(_0x43ad6b){console[_0x1a8e4c(0x15c)]('Error:',_0x43ad6b['response']?_0x43ad6b[_0x1a8e4c(0x14c)][_0x1a8e4c(0x132)]:_0x43ad6b[_0x1a8e4c(0x157)]),_0x37b3f7[_0x1a8e4c(0x146)](_0x1a8e4c(0x13f)+platform+'.');}};export default setEnvCommand;

/* LENNIE */
